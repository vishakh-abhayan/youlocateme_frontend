<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Youlocateme</title>
    <meta
      name="description"
      content="A brief, informative description of your page content"
    />

    <!-- Open Graph Tags for Social Media Sharing (optional) -->
    <meta property="og:type" content="website" />
    <meta property="og:title" content="Your Open Graph Title" />
    <meta
      property="og:description"
      content="A brief description of your content"
    />
    <meta property="og:image" content="https://example.com/your-image.png" />
    <meta property="og:url" content="https://example.com/your-page-url" />
    <meta property="og:site_name" content="Your Website Name" />
    <meta name="keywords" content="keyword1, keyword2, keyword3" />

    <!-- Twitter Card Tags for Twitter Sharing (optional) -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@yourtwitterhandle" />
    <meta name="twitter:title" content="Your Twitter Card Title" />
    <meta
      name="twitter:description"
      content="A brief description of your content"
    />
    <meta name="twitter:image" content="https://example.com/your-image.png" />
    <meta name="twitter:url" content="https://example.com/your-page-url" />

    <!-- Favicon (Site Icon) -->
    <link rel="icon" href="./favicon.ico" type="image/x-icon" />

    <!-- Canonical Tag (if needed) -->
    <link rel="canonical" href="https://example.com/preferred-page" />

    <!-- Meta Robots Tag (adjust as needed) -->
    <meta name="robots" content="index, follow" />
    <script src="https://cdn.tailwindcss.com"></script>

    <!-- Other meta tags for specific requirements, e.g., geolocation, verification -->

    <!-- CSS and JavaScript links (include in the <head> or at the end of <body>) -->
  </head>
  <body>
    <!-- Your webpage content here -->
    <!--
-->
    <div class="w-full h-screen flex items-center justify-center ">
      <div class="w-2/5">
        <div class="space-y-6">
          <form id="registrationForm" class="space-y-6">
          <div class="space-y-2 text-center flex justify-center">
            <!-- <h1 class="text-3xl font-bold">Create an Account</h1> -->
            <div class="flex items-center justify-center flex-col">
              <img src="./icon2.png" class="w-28" alt="" />
              <h2 class="text-3xl font-bold text-gray-700">Youlocateme</h2>
            </div>
            <!-- <p class="text-gray-500 dark:text-gray-400">
              Enter your billing address to create an account
            </p> -->
          </div>
          <div class="space-y-4">
            <div class="space-y-2">
              <label
                class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
                for="country"
              >
                House Name
              </label>
              <input
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                placeholder="Country"
                id="homeName"
                required
              />
            </div>
            <div class="space-y-2">
              <label
                class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
                for="street"
              >
                Street
              </label>
              <input
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                id="street"
                placeholder="123 Street"
                required
              />
            </div>
            <div class="grid grid-cols-2 gap-4">
              <div class="space-y-2">
                <label
                  class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
                  for="city"
                >
                  City
                </label>
                <input
                  class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                  id="city"
                  placeholder="City"
                  required
                />
              </div>
              <div class="space-y-2">
                <label
                  class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
                  for="zip"
                >
                  ZIP
                </label>
                <input
                  class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                  id="zip"
                  placeholder="ZIP"
                  required
                />
              </div>
            </div>
            <div class="space-y-2">
              <label
                class="text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"
                for="country"
              >
                Country
              </label>
              <input
                class="flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
                id="country"
                placeholder="Country"
                required
              />
            </div>
            <button type="submit" class="w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500">
              Submit
          </button>
          
          </form >
          </div>
        </div>
      </div>
      <div id="modal" class="flex  hidden items-center justify-center fixed inset-0 bg-gray-600 bg-opacity-50  h-full w-full " role="dialog">
        <div class=" top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white">
          <div class="mt-3 text-center flex items-center  flex-col gap-2">
            <div class="flex w-full justify-center mb-5">
              <img class="w-16" src="./tick.png" alt="">
            </div>
            <h3 class="text-lg leading-6 font-medium text-gray-900" id="modal-title">Registration Successful</h3>
            <label class="text-gray-500 " for="">locationId:</label>
            <div class="p-1  h-9 w-64 bg-gray-100 text-center  border border-gray-200 rounded-md">
              <p class="text-base text-gray-500 " id="modal-body">  </p>
            </div>
            <div class="items-center px-4 py-3">
              <button id="okBtn" class="px-9 py-2  bg-blue-500 text-white text-base font-medium rounded-md w-full shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500">
                OK
              </button>
            </div>
          </div>
        </div>
      </div>
    <script>
      const registrationForm = document.getElementById("registrationForm");
      const modal = document.getElementById("modal");
      const modalBody = document.getElementById("modal-body");
      const okBtn = document.getElementById("okBtn");

      okBtn.addEventListener('click', () => {
        modal.classList.add('hidden');
      });


      registrationForm.addEventListener("submit", async (event) => {
        event.preventDefault();

        const homeName = document.getElementById("homeName").value;
        const street = document.getElementById("street").value;
        const city = document.getElementById("city").value;
        const zip = document.getElementById("zip").value;
        const country = document.getElementById("country").value;


       

        const data = {
          homeName,
          billingAddress: {
            street,
            city,
            zip,
            country,
          },
        };

        try {
          const response = await fetch(
            "https://api.youlocate.me/api/register",
            {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify(data),
            }
          );


          if (!response.ok) {
            throw new Error("Failed to register");
          
          }
          const responseData = await response.json();
          modalBody.textContent = ` ${responseData.locationId}`;
          modal.classList.remove('hidden');

          //const responseData = await response.json();
          //alert(
          //   `Registration successful. Location ID: ${responseData.locationId}`
          //  );

          // Optionally, you can retrieve and display the address using the locationId
        } catch (error) {
          console.error(error.message)
          // Handle error
        }
      });
    </script>
  </body>
</html>
